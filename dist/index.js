!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=24)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=v(n(40)),i=n(3),a=v(n(41)),s=v(n(11)),u=v(n(7)),c=v(n(16)),f=v(n(52)),l=n(10),p=n(13),d=v(n(18)),h=v(n(22)),m=v(n(61)),y=v(n(1)),b=v(n(21));function v(e){return e&&e.__esModule?e:{default:e}}var g=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.width=1e3,this.height=600,this.centerX=500,this.centerY=300,this.domRoot=(0,i.$)(".root"),this.user=null,this.userGroup=[],this.enemyGroup=[],this.bounds=new u.default(0,0,this.width,this.height),this.enemyGroupQuadTree=new m.default(this.bounds)}return r(e,[{key:"init",value:function(){var e=this;this.UI=new o.default,this.Music=new a.default,this.Control=new f.default,this.Music.loadMusic((function(){e.UI.change("intoGame"),(0,i.addEventOnce)("#intoBtn","click",(function(){e.UI.change("menu"),setTimeout((function(){e.Music.playBgm("bgm_main")}),700)}))})),this.user=new c.default(this.centerX,this.centerY).speedClear(),(0,l.pointerExpansion)(this.user,"s1"),this.eventBase(),this.userControl()}},{key:"eventBase",value:function(){var e=this;(0,i.addEventLock)("#btn-start","click",(function(t,n){setTimeout(n,1e3),e.startGame()}))}},{key:"userControl",value:function(){var e=this;this.Control.disableDirectionKey(),this.Control.onDirChange((function(t,n){t?e.user.setAngle(n):e.user.speedClear()})),this.Control.disableMouse=!0}},{key:"startGame",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=this.user,r=this.Control,o=this.UI,i=this.Music,a=this.userGroup,u=this.enemyGroup,c=this.width,f=this.height,l=h.default["k"+t],v=0;(0,s.default)()>o.hide>function(e){i.playBgm("bgm_bat"),e()}>n.birth.args(!0)>function(){r.enableDirectionKey(),r.disableMouse=!1,a.push(n),requestAnimationFrame(w)}||s.default.go();var g=function(t){for(var n=[],r=l.length-1;r>=0;r--){var o=l[r];if(o.createTime&&t>=o.createTime)if("continue"===function(){var t=o.x,n=o.y;"user"===t&&(t=e.userX(),n=e.userY());var r=(0,d.default)(o.enemy,t||e.randomX(),n||e.randomY());return r instanceof b.default?r.done((function(e){for(var t=function(t){var n=e[t];n.birth(!0,(function(){return u.push(n)}))},n=0;n<e.length;n++)t(n)})):r.birth(!0,(function(){return u.push(r)})),"continue"}())continue;n.push(o)}l=n},w=function t(){var o=n.rect,i=o.centerX,a=o.centerY,s=e.userGroup,u=e.enemyGroup,l=new m.default(e.bounds);g(v);for(var d=u.length-1;d>=0;d--){var h=u[d],b=h.rect;h.isDestroy?u.splice(d,1):b.x>c||b.y>f||b.x+b.width<0||b.y+b.height<0?(h.destroy(!1),u.splice(d,1)):(h.next().update(),l.insert(b))}for(var w=s.length-1;w>=0;w--){var x=s[w],_=x.rect;if(x.isDestroy)s.splice(w,1);else if(_.x>c||_.y>f||_.x+_.width<0||_.y+_.height<0)x.destroy(!1),s.splice(w,1);else{x.next().update();for(var k=l.retrieve(x.rect),O=k.length-1;O>=0;O--){var j=k[O];y.default.isCollision(j,x.rect)&&y.default.collision(j.block,x)}}}if(n.isDestroy)return null;n.pointer.angle=(0,p.pointDeg)(i,a,r.mouseX,r.mouseY),v++,requestAnimationFrame(t)}}},{key:"randomX",value:function(){return Math.random()*this.width>>0}},{key:"randomY",value:function(){return Math.random()*this.height>>0}},{key:"userX",value:function(){return this.user.rect.centerX}},{key:"userY",value:function(){return this.user.rect.centerY}}]),e}();t.default=new g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),i=u(n(0)),a=u(n(11)),s=u(n(7));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function f(e){return Array.isArray(e)?e:Array.from(e)}var l=Math.PI/180,p=function(){function e(t,n,r,o){var u=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dom=null,this.rect=null,this.className="",this.preAni=null,this.birthAni=null,this.birthMusic=null,this.deathAni=null,this.skill=[],this.decorators=[],this.destroyEvt=[],this.hp=1,this.atc=10,this.isDestroy=!1,this.angle=0,this.radian=0,this.speed=0,this.vx=0,this.vy=0,this.birth=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments[1];u.dom||u.init();var n=u;return(0,a.default)()>function(t){e&&n.preAni?n.preAni.show(n.rect.centerX,n.rect.centerY,t):t()}>function(){e&&n.birthAni&&n.birthAni.show(n.rect.centerX,n.rect.centerY),n.birthMusic&&i.default.Music.play(n.birthMusic),i.default.domRoot.appendChild(n.dom),n.isDestroy=!1,t&&t()}||a.default.go(),u},this.destroy=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];u.isDestroy=!0,e&&u.deathAni&&u.deathAni.show(u.rect.centerX,u.rect.centerY),i.default.domRoot.removeChild(u.dom),u.destroyEvt.forEach((function(e){return e()}))},this.next=function(){return u.skill.forEach((function(e){return e.next()})),u.rect.x+=u.vx,u.rect.y+=u.vy,u.rect.update(),u},this.update=function(){var e=u.rect;return u.dom.style.left=e.x+"px",u.dom.style.top=e.y+"px",u},this.onDestroy=function(e){return u.destroyEvt.push(e),u},this.rect=s.default.centerCreate(t,n,r,o)}return r(e,null,[{key:"isCollision",value:function(e,t){if(e.block.isDestroy||t.block.isDestroy)return!1;var n=e.x,r=e.y,o=t.x,i=t.y;return!(r>t.height+i||e.width+n<o||e.height+r<i||n>t.width+o)}},{key:"collision",value:function(e,t){e.hp-=t.atk,t.hp-=e.atk,e.hp<=0&&e.destroy(),t.hp<=0&&t.destroy()}}]),r(e,[{key:"init",value:function(){var t=this,n=this.rect;return this.rect.block=this,this.dom=(0,o.createDom)("div",e.baseClass+" "+this.className),this.dom.style.cssText="left: "+n.x+"px; top: "+n.y+"px; width: "+n.width+"px; height: "+n.height+"px",this.skill=this.skill.map((function(e){if(e instanceof Array){var n=f(e),r=n[0],o=n.slice(1);return new(Function.prototype.bind.apply(r,[null].concat([t],c(o))))}return new e(t)})),this.decorators.forEach((function(e){if(e instanceof Array){var n=f(e),r=n[0],o=n.slice(1);r.apply(void 0,[t].concat(c(o)))}else e(t)})),this.decomposeSpeed(),this}},{key:"speedClear",value:function(){return this.vx=0,this.vy=0,this}},{key:"setAngle",value:function(e){return this.angle=e,this.radian=e*l,this.decomposeSpeed(),this}},{key:"setRadian",value:function(e){return this.radian=e,this.decomposeSpeed(),this}},{key:"decomposeSpeed",value:function(){return this.vx=Math.cos(this.radian)*this.speed,this.vy=Math.sin(this.radian)*this.speed,this}}]),e}();p.baseClass="block-base",t.default=p},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),i=r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}));return[n].concat(i).concat([o]).join("\n")}var a;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){"use strict";function r(e){return document.querySelector(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.$=r,t.$$=function(e){return document.querySelectorAll(e)},t.createDom=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=document.createElement(e);return n.className=t,n},t.addEventAgent=function(e,t,n,o){var i=RegExp("(^| )"+t+"($| )"),a=function(e){i.test(e.target.className)&&o(e)};"string"==typeof e&&(e=r(e));return e.addEventListener(n,a),function(){e.removeEventListener(n,a)}},t.addEventLock=function(e,t,n){"string"==typeof e&&(e=r(e));var o=!1,i=function(e){o||(o=!0,setTimeout((function(){return o=!1}),1e3),n(e))};return e.addEventListener(t,i),function(){e.removeEventListener(t,i)}},t.addEventOnce=function(e,t,n){"string"==typeof e&&(e=r(e));e.addEventListener(t,(function r(o){n(o),e.removeEventListener(t,r)}))},t.hasClass=function(e,t){return RegExp("(^| )"+t+"($| )").test(e)},t.addClass=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.className+=" "+n.join(" ")},t.removeClass=function(e){for(var t=e.className,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];for(var i=0;i<r.length;i++)t=t.replace(RegExp("(^| )"+r[i]+"($| )","g")," ");e.className=t},t.getFileName=function(e){return e.split("/").pop().split(".")[0]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BoomSBlue=t.BoomBlue=t.BoomOrange=t.BoomYellow=t.BoomGreen=t.BoomRed=void 0;var r,o=n(8),i=(r=o)&&r.__esModule?r:{default:r};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,10,10,"boom boom-red","del1"))}return u(t,e),t}(i.default),f=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,10,10,"boom boom-green","del1"))}return u(t,e),t}(i.default),l=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,10,10,"boom boom-yellow","del1"))}return u(t,e),t}(i.default),p=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,10,10,"boom boom-orange","del1"))}return u(t,e),t}(i.default),d=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,10,10,"boom boom-blue","del1"))}return u(t,e),t}(i.default),h=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,10,10,"boom boom-s-blue","del2"))}return u(t,e),t}(i.default);t.BoomRed=c,t.BoomGreen=f,t.BoomYellow=l,t.BoomOrange=p,t.BoomBlue=d,t.BoomSBlue=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MarkBlue=t.ShrinkOrange=t.ShrinkGreedM=t.ShrinkYellow=t.ShrinkGreed=t.ShrinkRed=void 0;var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(8),a=(r=i)&&r.__esModule?r:{default:r};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=function(e){function t(){return s(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,10,10,"shrink shrink-red"))}return c(t,e),t}(a.default),l=function(e){function t(){return s(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,10,10,"shrink shrink-green"))}return c(t,e),t}(a.default),p=function(e){function t(){return s(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,10,10,"shrink shrink-yellow"))}return c(t,e),t}(a.default),d=function(e){function t(){return s(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,10,10,"shrink shrink-orange"))}return c(t,e),t}(a.default),h=function(){function e(){s(this,e)}return o(e,[{key:"show",value:function(e,t,n){var r=0,o=0;function i(){++o>=4&&n&&n()}!function n(){(new l).show(e,t,i),++r<4&&setTimeout(n,100)}()}}]),e}(),m=function(e){function t(){return s(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,50,50,"mark-blue"))}return c(t,e),t}(a.default);t.ShrinkRed=f,t.ShrinkGreed=l,t.ShrinkYellow=p,t.ShrinkGreedM=h,t.ShrinkOrange=d,t.MarkBlue=m},function(e,t,n){var r,o,i={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),s=function(e){return document.querySelector(e)},u=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=s.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),c=null,f=0,l=[],p=n(33);function d(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=i[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(g(r.parts[a],t))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(g(r.parts[a],t));i[r.id]={id:r.id,refs:1,parts:s}}}}function h(e,t){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],a=t.base?i[0]+t.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function m(e,t){var n=u(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=l[l.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),l.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=u(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,o)}}function y(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=l.indexOf(e);t>=0&&l.splice(t,1)}function b(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),v(t,e.attrs),m(e,t),t}function v(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function g(e,t){var n,r,o,i;if(t.transform&&e.css){if(!(i=t.transform(e.css)))return function(){};e.css=i}if(t.singleton){var a=f++;n=c||(c=b(t)),r=_.bind(null,n,a,!1),o=_.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",v(t,e.attrs),m(e,t),t}(t),r=O.bind(null,n,t),o=function(){y(n),n.href&&URL.revokeObjectURL(n.href)}):(n=b(t),r=k.bind(null,n),o=function(){y(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=h(e,t);return d(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var a=n[o];(s=i[a.id]).refs--,r.push(s)}e&&d(h(e,t),t);for(o=0;o<r.length;o++){var s;if(0===(s=r[o]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete i[s.id]}}}};var w,x=(w=[],function(e,t){return w[e]=t,w.filter(Boolean).join("\n")});function _(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=x(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function k(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function O(e,t,n){var r=n.css,o=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(r=p(r)),o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t,this.y=n,this.width=r,this.height=o,this.centerX=t+r/2,this.centerY=n+o/2}return r(e,null,[{key:"centerCreate",value:function(t,n,r,o){return new e(t-r/2,n-o/2,r,o)}}]),r(e,[{key:"update",value:function(){this.centerX=this.x+this.width/2,this.centerY=this.y+this.height/2}},{key:"carve",value:function(t,n){var r=[],o=[],i=t-this.x,a=n-this.y,s=i>0&&i<this.width,u=a>0&&a<this.height;if(s&&u)for(o=this.carve(t,this.y);o.length;)r=r.concat(o.shift().carve(this.x,n));else s?r.push(new e(this.x,this.y,i,this.height),new e(t,this.y,this.width-i,this.height)):u&&r.push(new e(this.x,this.y,this.width,a),new e(this.x,n,this.width,this.height-a));return r}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(0),i=(r=o)&&r.__esModule?r:{default:r},a=n(3);var s=function e(t,n,r,o){var s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dom=null,this.music="",this.width=0,this.height=0,this.show=function(e,t,n){e-=s.width/2,t-=s.height/2,s.dom.style.cssText="left: "+e+"px; top: "+t+"px;";var r=function e(){i.default.domRoot.removeChild(s.dom),s.dom.removeEventListener("webkitAnimationEnd",e),s.dom.removeEventListener("animationend",e),n&&n()};s.dom.addEventListener("webkitAnimationEnd",r),s.dom.addEventListener("animationend",r),s.music&&i.default.Music.play(s.music),i.default.domRoot.appendChild(s.dom)},this.dom=(0,a.createDom)("div",e.baseClass+" "+r),this.width=t,this.height=n,this.music=o};s.baseClass="ani",t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.step=0,this.cd=0,this.block=null,this.block=t}return r(e,[{key:"setAttr",value:function(e,t){this.step=t,this.cd=e}},{key:"next",value:function(){this.step++,this.step==this.cd&&(this.step=0,this.action(this.block))}},{key:"action",value:function(e){}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.directionExpansion=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.update;e.update=function(){e.dom.style.transform="rotate("+(e.angle+t)+"deg)",n.call(e)}},t.BoundsLimit=function(e){var t=e.next;e.next=function(){t.call(e);var n=!1,r=e.rect,i=o.default.bounds,a=i.width,s=i.height;return r.x<0&&(r.x=0,n=!0),r.x+r.width>a&&(r.x=a-r.width,n=!0),r.y+r.height>s&&(r.y=s-r.height,n=!0),r.y<0&&(r.y=0,n=!0),n&&r.update(),e}},t.BoundsRebound=function(e){var t=e.next;e.next=function(){t.call(e);var n=!1,r=e.rect,i=o.default.bounds,a=i.width,s=i.height;return r.x<0&&(r.x=0,e.vx*=-1,n=!0),r.y<0&&(r.y=0,e.vy*=-1,n=!0),r.x+r.width>a&&(r.x=a-r.width,e.vx*=-1,n=!0),r.y+r.height>s&&(r.y=s-r.height,e.vy*=-1,n=!0),n&&r.update(),e}},t.pointerExpansion=function(e,t){e.pointer=new r.default(e,t);var n=e.init;e.init=function(){e.pointer.init(),n.call(e)};var o=e.birth;e.birth=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments[1],r=n;o.call(e,t,(function(){e.pointer.birth(),r&&r()}))};var i=e.update;e.update=function(){e.pointer.update(),i.call(e)};var a=e.destroy;e.destroy=function(){e.pointer.destroy(),a.call(e)}};var r=i(n(51)),o=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";var r,o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(a,s){"object"==i(t)&&void 0!==e?e.exports=s():void 0===(o="function"==typeof(r=s)?r.call(t,n,t,e):r)||(e.exports=o)}(0,(function(){function e(e,t){for(var n in t)e[n]=t[n]}Function.prototype.bind||(Function.prototype.bind=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=this;return function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];o.apply(e,n.concat(r))}});var t=!1,n=null;function r(){for(var e=arguments.length,o=Array(e),i=0;i<e;i++)o[i]=arguments[i];if(this instanceof r)this.functions=[],this.args=[],this.add.apply(this,o);else{if(arguments.length)throw new Error("请加上 new 关键字，如果你想使用表达式语法请不要传入参数");t=!0,n=new r}}e(r.prototype,{add:function(e){for(var t=0;t<arguments.length;t++){var n=arguments[t],r=void 0;if(n.constructor===i)r=n.args,n=n.fn;else if("function"!=typeof n)throw new Error("你传入的参数不是一个函数");this.functions.push(n),this.args.push(r)}return this},go:function(t){function n(){var e=++n.currentIndex,t=n.currentChain,r=void 0;if(e>=t.args.length||"running"!==n.state)return n.state="interrupted";for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];void 0===(r=t.args[e])&&(r=i),t.functions[e].apply(t,r.concat(n))}return e(n,{state:"running",currentChain:this,currentIndex:-1,switchTo:function(e,t){if("function"==typeof e)this.currentIndex=-1,this.currentChain=new r(e),this();else{if(e.constructor!==r)throw new Error("不能切换到一个非函数链对象上");this.currentIndex=void 0===t?-1:--t,this.currentChain=e,this()}}.bind(n),skip:function(e){this.currentIndex+=e,this()}.bind(n),stop:function(){this.state="interrupted",this()}.bind(n)}),n.apply(null,arguments),this}}),r.end=function(){return t=!1,n},r.go=function(){t=!1;for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];return n.go.apply(n,r)};var o=Function.prototype.valueOf;function i(e,t){this.fn=e,this.args=t}return e(Function.prototype,{args:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return new i(this,t)},valueOf:function(){return t?(t=!1,n.functions.push(this),n.args.push(void 0),!(t=!0)):o.call(this)}}),i.prototype.valueOf=function(){return!(t&&(t=!1,n.functions.push(this.fn),n.args.push(this.args),t=!0))},r}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpreadBlue=t.SpreadGreen=t.SpreadRed=void 0;var r,o=n(8),i=(r=o)&&r.__esModule?r:{default:r};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,10,10,"spread spread-red"))}return u(t,e),t}(i.default),f=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,10,10,"spread spread-green"))}return u(t,e),t}(i.default),l=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,10,10,"spread spread-blue"))}return u(t,e),t}(i.default);t.SpreadRed=c,t.SpreadGreen=f,t.SpreadBlue=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pointDeg=function(e,t,n,i){return r(i-t,n-e)*o};var r=Math.atan2,o=180/Math.PI},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SkillShadow=void 0;var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(9);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12;a(this,t);var o=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.step=0,o.cd=11,o.Class=n,o.cd=r,o.step=r/3>>0,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"action",value:function(e){(new this.Class).show(e.rect.centerX,e.rect.centerY)}}]),t}(((r=i)&&r.__esModule?r:{default:r}).default);t.SkillShadow=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShadowOrange=t.ShadowYellow=t.ShadowRed=void 0;var r,o=n(8),i=(r=o)&&r.__esModule?r:{default:r};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,8,8,"shadow shadow-red"))}return u(t,e),t}(i.default),f=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,12,12,"shadow shadow-yellow"))}return u(t,e),t}(i.default),l=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,6,6,"shadow shadow-orange"))}return u(t,e),t}(i.default);t.ShadowRed=c,t.ShadowYellow=f,t.ShadowOrange=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),o=n(4),i=n(12),a=f(n(1)),s=n(50),u=f(n(17)),c=n(10);function f(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,10,10));return a.className="background-green",a.preAni=new r.ShrinkGreedM,a.birthAni=new i.SpreadGreen,a.deathAni=new o.BoomGreen,a.hp=1,a.atk=10,a.decorators=[c.BoundsLimit],a.skill=[[s.LaunchBullet,u.default,"user"]],a.speed=2.4,a.angle=0,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(a.default);l.FactoryName="Green",t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(1),i=(r=o)&&r.__esModule?r:{default:r},a=n(10);var s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,10,10));return r.className="san1",r.birthMusic="fire1",r.decorators=[[a.directionExpansion,45]],r.speed=6,r.hp=10,r.atk=10,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(i.default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){return new i[e](t,n)};var r=n(53),o=r.keys().filter((function(e){return"./Factory.js"!==e})).map((function(e){return r(e)})),i={};o.forEach((function(e){i[e.default.FactoryName]=e.default}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(1),i=(r=o)&&r.__esModule?r:{default:r},a=n(4);var s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,8,8));return r.className="small-blue",r.deathAni=new a.BoomSBlue,r.hp=5,r.atk=5,r.speed=3,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(i.default);s.FactoryName="SmallBlue",t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TrackingUser=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=s(n(9)),i=n(13),a=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:29;u(this,t);var o=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.step=29,o.cd=30,o.setAttr(n,r),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"action",value:function(e){var t=e.rect,n=a.default.user.rect;e.setAngle((0,i.pointDeg)(t.centerX,t.centerY,n.centerX,n.centerY))}}]),t}(o.default);t.TrackingUser=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"done",value:function(e){}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n(59),i=o.keys().filter((function(e){return"./index.js"!=e&&"./utils.js"!=e})).map((function(e){return{name:(0,r.getFileName)(e),value:o(e).default}})),a={};i.forEach((function(e){a[e.name]=e.value})),t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VolumeProduction=function(e,t,n){for(var r=[],o=JSON.stringify(e),i=0;i<t;i++){var a=JSON.parse(o);if(n)for(var s in n)a[s]&&(a[s]+=n[s]*i);r.push(a)}return r};Math.random},function(e,t,n){"use strict";n(25),n(34),n(36),n(38);var r,o=n(0);((r=o)&&r.__esModule?r:{default:r}).default.init()},function(e,t,n){var r=n(26);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(6)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(27);(t=e.exports=n(2)(!1)).i(n(28),""),t.i(n(29),""),t.i(n(30),""),t.push([e.i,"@font-face {\r\n    font-family: '\\6977\\4F53';\r\n    src: url("+r(n(31))+") format('truetype');\r\n}\r\n@font-face {\r\n    font-family: '\\534E\\6587\\65B0\\9B4F';\r\n    src: url("+r(n(32))+") format('truetype');\r\n}\r\n* {\r\n    margin: 0;\r\n    padding: 0;\r\n}\r\nhtml, body {\r\n    width: 100%;\r\n    height: 100%;\r\n    background: #000;\r\n    font: 16px/1 \"\\6977\\4F53\";\r\n    user-select: none;\r\n}\r\n",""])},function(e,t,n){"use strict";e.exports=function(e){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},function(e,t,n){(e.exports=n(2)(!1)).push([e.i,'@charset "UTF-8";\r\n\r\n/*!\r\n * animate.css -http://daneden.me/animate\r\n * Version - 3.5.2\r\n * Licensed under the MIT license - http://opensource.org/licenses/MIT\r\n *\r\n * Copyright (c) 2017 Daniel Eden\r\n */\r\n\r\n.animated{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:both;animation-fill-mode:both}.animated.infinite{-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}@-webkit-keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.fadeIn{-webkit-animation-name:fadeIn;animation-name:fadeIn}@-webkit-keyframes fadeOut{0%{opacity:1}to{opacity:0}}@keyframes fadeOut{0%{opacity:1}to{opacity:0}}.fadeOut{-webkit-animation-name:fadeOut;animation-name:fadeOut}@-webkit-keyframes flip{0%{-webkit-transform:perspective(400px) rotateY(-1turn);transform:perspective(400px) rotateY(-1turn);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}40%{-webkit-transform:perspective(400px) translateZ(150px) rotateY(-190deg);transform:perspective(400px) translateZ(150px) rotateY(-190deg);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}50%{-webkit-transform:perspective(400px) translateZ(150px) rotateY(-170deg);transform:perspective(400px) translateZ(150px) rotateY(-170deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}80%{-webkit-transform:perspective(400px) scale3d(.95,.95,.95);transform:perspective(400px) scale3d(.95,.95,.95);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}to{-webkit-transform:perspective(400px);transform:perspective(400px);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}}@keyframes flip{0%{-webkit-transform:perspective(400px) rotateY(-1turn);transform:perspective(400px) rotateY(-1turn);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}40%{-webkit-transform:perspective(400px) translateZ(150px) rotateY(-190deg);transform:perspective(400px) translateZ(150px) rotateY(-190deg);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}50%{-webkit-transform:perspective(400px) translateZ(150px) rotateY(-170deg);transform:perspective(400px) translateZ(150px) rotateY(-170deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}80%{-webkit-transform:perspective(400px) scale3d(.95,.95,.95);transform:perspective(400px) scale3d(.95,.95,.95);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}to{-webkit-transform:perspective(400px);transform:perspective(400px);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}}.animated.flip{-webkit-backface-visibility:visible;backface-visibility:visible;-webkit-animation-name:flip;animation-name:flip}@-webkit-keyframes flipInX{0%{-webkit-transform:perspective(400px) rotateX(90deg);transform:perspective(400px) rotateX(90deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in;opacity:0}40%{-webkit-transform:perspective(400px) rotateX(-20deg);transform:perspective(400px) rotateX(-20deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}60%{-webkit-transform:perspective(400px) rotateX(10deg);transform:perspective(400px) rotateX(10deg);opacity:1}80%{-webkit-transform:perspective(400px) rotateX(-5deg);transform:perspective(400px) rotateX(-5deg)}to{-webkit-transform:perspective(400px);transform:perspective(400px)}}@keyframes flipInX{0%{-webkit-transform:perspective(400px) rotateX(90deg);transform:perspective(400px) rotateX(90deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in;opacity:0}40%{-webkit-transform:perspective(400px) rotateX(-20deg);transform:perspective(400px) rotateX(-20deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}60%{-webkit-transform:perspective(400px) rotateX(10deg);transform:perspective(400px) rotateX(10deg);opacity:1}80%{-webkit-transform:perspective(400px) rotateX(-5deg);transform:perspective(400px) rotateX(-5deg)}to{-webkit-transform:perspective(400px);transform:perspective(400px)}}.flipInX{-webkit-backface-visibility:visible!important;backface-visibility:visible!important;-webkit-animation-name:flipInX;animation-name:flipInX}@-webkit-keyframes flipInY{0%{-webkit-transform:perspective(400px) rotateY(90deg);transform:perspective(400px) rotateY(90deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in;opacity:0}40%{-webkit-transform:perspective(400px) rotateY(-20deg);transform:perspective(400px) rotateY(-20deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}60%{-webkit-transform:perspective(400px) rotateY(10deg);transform:perspective(400px) rotateY(10deg);opacity:1}80%{-webkit-transform:perspective(400px) rotateY(-5deg);transform:perspective(400px) rotateY(-5deg)}to{-webkit-transform:perspective(400px);transform:perspective(400px)}}@keyframes flipInY{0%{-webkit-transform:perspective(400px) rotateY(90deg);transform:perspective(400px) rotateY(90deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in;opacity:0}40%{-webkit-transform:perspective(400px) rotateY(-20deg);transform:perspective(400px) rotateY(-20deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}60%{-webkit-transform:perspective(400px) rotateY(10deg);transform:perspective(400px) rotateY(10deg);opacity:1}80%{-webkit-transform:perspective(400px) rotateY(-5deg);transform:perspective(400px) rotateY(-5deg)}to{-webkit-transform:perspective(400px);transform:perspective(400px)}}.flipInY{-webkit-backface-visibility:visible!important;backface-visibility:visible!important;-webkit-animation-name:flipInY;animation-name:flipInY}',""])},function(e,t,n){(e.exports=n(2)(!1)).push([e.i,"@keyframes colorRotate {\r\n    100% { filter: hue-rotate(360deg) }\r\n}\r\n",""])},function(e,t,n){(e.exports=n(2)(!1)).push([e.i,"/* 通用 */\r\n.panel {\r\n    width: 100%;\r\n    height: 100%;\r\n    color: #FFF;\r\n}\r\n.opacity0 {\r\n    opacity: 0;\r\n}\r\n.opacity1 {\r\n    opacity: 1;\r\n}\r\n.btn {\r\n    display: inline-block;\r\n    padding: 5px;\r\n    font-size: 34px;\r\n    color: #7FFFEC;\r\n    text-shadow: 0 0 10px #A6D7FF;\r\n    transition: all .3s ease-out;\r\n    vertical-align: middle;\r\n    background: transparent;\r\n    outline: none;\r\n    border: none;\r\n    text-align: center;\r\n    cursor: pointer;\r\n}\r\n.btn:hover {\r\n    text-shadow: 0 0 40px #5927FF;\r\n    box-shadow: 0 0 10px 1px #FFF;\r\n}\r\n.btn:active {\r\n    transition: all .1s;\r\n    box-shadow: 0 0 10px 5px #FFF;\r\n}\r\n.hide {\r\n    display: none !important;\r\n}\r\n/* 根节点 */\r\n.root {\r\n    position: relative;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate3d(-50%, -50%, 0);\r\n    width: 1000px;\r\n    height: 600px;\r\n    border: 5px solid #3096E9;\r\n    box-shadow: 0 0 15px 0 rgba(48, 150, 233, 1);\r\n    overflow: hidden;\r\n}\r\n/* 加载面板*/\r\n.loading {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n.loading .box {\r\n    width: 150px;\r\n    height: 150px;\r\n    line-height: 150px;\r\n    text-align: center;\r\n    border-radius: 50%;\r\n    box-shadow: 0 0 25px blue;\r\n    font-weight: bold;\r\n    font-size: 28px;\r\n    color: #FF6C4A;\r\n    text-shadow: 0 0 15px #C9FFDA;\r\n    animation: loading-panel 5s infinite linear;\r\n}\r\n/* 点击进入游戏面板 */\r\n.intoGame {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n/* 菜单 */\r\n.menu {\r\n    width: 100%;\r\n    height: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-direction: column;\r\n}\r\n.menu h1 {\r\n    margin-bottom: 20px;\r\n    font-family: '\\534E\\6587\\65B0\\9B4F';\r\n    font-size: 100px;\r\n    color: rgba(194, 194, 194, 0.51);\r\n    text-shadow: 0 0 15px #FF7AD5;\r\n    animation: colorRotate 4s infinite, fadeIn 1s;\r\n    cursor: default;\r\n}\r\n.menu h2 {\r\n    font-size: 30px;\r\n    text-shadow: 0 0 15px #FF7AD5;\r\n    color: rgba(255, 255, 255, 0.13);\r\n    animation: colorRotate 4s infinite, fadeIn 1s;\r\n    animation-fill-mode: both;\r\n    cursor: default;\r\n}\r\n.menu ul {\r\n    margin-top: 30px;\r\n    margin-bottom: 50px;\r\n    display: inline-block;\r\n    list-style: none;\r\n}\r\n.menu ul li {\r\n    display: block;\r\n    margin-top: 30px;\r\n    color: #7FFFEC;\r\n}\r\n/* 帮助 */\r\n/*------------------------------------------------*/\r\n@keyframes loading-panel {\r\n    0% {filter: hue-rotate(0deg) blur(0)}\r\n    30% {filter: hue-rotate(108deg) blur(0)}\r\n    50% {filter: hue-rotate(180deg) blur(4px)}\r\n    80% {filter: hue-rotate(288deg) blur(0)}\r\n    100% {filter: hue-rotate(0deg) blur(0)}\r\n}\r\n",""])},function(e,t,n){e.exports=n.p+"static/media/KaiTi_GB2312.8a1e9fe8.ttf"},function(e,t,n){e.exports=n.p+"static/media/Wei.7785d8ad.ttf"},function(e,t,n){"use strict";e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var o,i=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}},function(e,t,n){var r=n(35);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(6)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(2)(!1)).push([e.i,".block-base {\r\n    z-index: 10;\r\n    box-sizing: border-box;\r\n    position: absolute;\r\n    transform-origin: center;\r\n    animation-fill-mode: both;\r\n}\r\n/*----------------------*/\r\n.background-red {\r\n    background-color: #FF3524;\r\n    border: 2px solid #FF7A11;\r\n    box-shadow: 0 0 10px 1px #FF3524;\r\n}\r\n.background-green {\r\n    background-color: #96FF4E;\r\n    box-shadow: 0 0 10px 0 #96FF4E;\r\n}\r\n.background-yellow {\r\n    background-color: #F3FF12;\r\n    box-shadow: 0 0 10px 1px #F3FF12;\r\n}\r\n.background-orange {\r\n    background-color: #FFAB20;\r\n    box-shadow: 0 0 10px 0 #96ff4e;\r\n}\r\n.background-blue {\r\n    background-color: #3F8EFF;\r\n    box-shadow: 0 0 15px 2px #5884FF;\r\n    animation: block-rotate 2.5s linear infinite;\r\n}\r\n.small-blue{\r\n    background-color: #77BEFF;\r\n    box-shadow: 0 0 15px 2px #5884FF;\r\n    border-radius: 50%;\r\n}\r\n/*------------------------瞄准器------------------------*/\r\n.san1 {\r\n    border-radius: 50%;\r\n    border: 2px solid #96FF4E;\r\n    border-bottom-color: transparent;\r\n    border-left-color: transparent;\r\n}\r\n/*------------------------动画------------------------*/\r\n@keyframes block-rotate {\r\n    0%{ transform: rotate(0deg) }\r\n    100%{ transform: rotate(360deg) }\r\n}\r\n",""])},function(e,t,n){var r=n(37);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(6)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(2)(!1)).push([e.i,".ani {\r\n    position: absolute;\r\n    box-sizing: border-box;\r\n    transform-origin: center;\r\n    animation-fill-mode: both;\r\n    z-index: 20;\r\n}\r\n/*-----------出生类-----------*/\r\n.spread {\r\n    height: 10px;\r\n    width: 10px;\r\n    border-radius: 50%;\r\n    animation-name: spread;\r\n    animation-duration: .6s;\r\n}\r\n.spread-red {\r\n    border: 1px solid #FF2E2F;\r\n    box-shadow: 0 0 10px 1px rgba(255, 46, 47, 0.6);\r\n}\r\n.spread-green {\r\n    border: 1px solid #96FF4E;\r\n    box-shadow: 0 0 10px 1px rgba(150, 255, 78, 0.6);\r\n}\r\n.spread-blue {\r\n    border: 1px solid #3F8EFF;\r\n    box-shadow: 0 0 10px 1px rgba(63, 142, 255, 0.6);\r\n    animation-name: spread-d;\r\n    animation-duration: 1s;\r\n}\r\n@keyframes spread {\r\n    0% { transform: scale(1) }\r\n    100% { transform: scale(5); opacity: 0 }\r\n}\r\n@keyframes spread-d {\r\n    0% { transform: scale(1) }\r\n    100% { transform: scale(10); opacity: 0 }\r\n}\r\n/*-----------预警类-----------*/\r\n.shrink {\r\n    width: 10px;\r\n    height: 10px;\r\n    animation: shrink ease-in both;\r\n}\r\n.shrink-red {\r\n    border: 1px dashed #FF2E2F;\r\n    box-shadow: 0 0 10px 0 #FF2E2F;\r\n    animation-duration: .7s;\r\n}\r\n.shrink-green {\r\n    border: 1px solid #96FF4E;\r\n    box-shadow: 0 0 10px 0 #96FF4E inset;\r\n    animation-duration: .7s;\r\n}\r\n.shrink-yellow {\r\n    border: 1px dashed #F3FF12;\r\n    box-shadow: 0 0 10px 0 #F3FF12;\r\n    animation: shrinkRotate linear 1s;\r\n}\r\n.shrink-orange {\r\n    border: 1px dashed #FFAB20;\r\n    box-shadow: 0 0 10px 0 #FFAB20;\r\n    animation-duration: .6s;\r\n}\r\n.mark-blue {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 50px;\r\n    height: 50px;\r\n    border: 2px solid #3F8EFF;\r\n    border-radius: 50%;\r\n    position: relative;\r\n    animation: sha .2s linear reverse;\r\n    animation-direction: alternate;\r\n    animation-iteration-count: 6;\r\n}\r\n.mark-blue:after {\r\n    content: '!';\r\n    display: inline-block;\r\n    font-size: 35px;\r\n    color: #3F8EFF;\r\n}\r\n@keyframes shrink {\r\n    0% { width: 160px; height: 160px; margin: -72px 0 0 -72px; opacity: 0 }\r\n    10% { width: 160px; height: 160px; margin: -72px 0 0 -72px; opacity: 1 }\r\n    100% { width: 10px; height: 10px; margin: 0; }\r\n}\r\n@keyframes shrinkRotate {\r\n    0% { width: 160px; height: 160px; margin: -72px 0 0 -72px; }\r\n    100% { width: 10px; height: 10px; margin: 0; transform: rotate(360deg) }\r\n}\r\n/*-----------死亡类-----------*/\r\n.boom {\r\n    width: 10px;\r\n    height: 10px;\r\n    border-radius: 50%;\r\n    animation: boom .9s both;\r\n}\r\n.boom-green {\r\n    border: 3px dotted #96FF4E;\r\n}\r\n.boom-yellow {\r\n    border: 3px solid #F3FF12;\r\n    animation-duration: 1s;\r\n}\r\n.boom-orange {\r\n    border: 3px dotted #FFAB20;\r\n    box-shadow: 0 0 5px 0 #FFAB20;\r\n}\r\n.boom-blue {\r\n    border: 5px dotted #3F8EFF;\r\n    box-shadow: 0 0 5px 0 #3F8EFF;\r\n}\r\n.boom-s-blue {\r\n    border: 1px dotted #3F8EFF;\r\n    box-shadow: 0 0 1px 0 #3F8EFF;\r\n    animation: s-boom .5s;\r\n    transform-origin: center;\r\n}\r\n@keyframes s-boom {\r\n    0% { transform: scale(1) }\r\n    100% { transform: scale(3); opacity: 0 }\r\n}\r\n.boom-red {\r\n    border: 3px dotted #FF2E2F;\r\n    box-shadow: 0 0 5px 0 #FF2E2F;\r\n}\r\n@keyframes boom {\r\n    100% {\r\n        width: 200px;\r\n        height: 200px;\r\n        margin-left: -95px;\r\n        margin-top: -95px;\r\n        opacity: 0;\r\n    }\r\n}\r\n/*-----------残影类-----------*/\r\n.shadow {\r\n    animation: sha both 1s;\r\n}\r\n.shadow-red {\r\n    width: 8px;\r\n    height: 8px;\r\n    box-shadow: 0 0 5px 1px #FF2E2F;\r\n    z-index: 0;\r\n}\r\n.shadow-yellow {\r\n    width: 12px;\r\n    height: 12px;\r\n    box-shadow: 0 0 10px 2px #F3FF12;\r\n}\r\n.shadow-orange {\r\n    width: 6px;\r\n    height: 6px;\r\n    background-color: #FFAB20;\r\n    z-index: 0;\r\n}\r\n@keyframes sha {\r\n    100% { opacity: 0 }\r\n}\r\n",""])},function(e,t,n){var r=n(39);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(6)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(2)(!1)).push([e.i,".pointer {\r\n    position: absolute;\r\n    width: 80px;\r\n    height: 1px;\r\n    transform: translateY(-50%);\r\n    transform-origin: 0 center;\r\n    z-index: 0;\r\n}\r\n.s1 {\r\n    background-color: rgba(150, 255, 78, 0.5);\r\n    box-shadow: 0 0 10px 0 #96FF4E;\r\n}\r\n.s2 {\r\n    border-top-right-radius: 50%;\r\n    border-bottom-right-radius: 50%;\r\n    background-color: rgba(150, 255, 78, 0.3);\r\n    box-shadow: 0 0 4px 1px #96FF4E;\r\n}\r\n",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=a(n(0)),i=a(n(11));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.panels={},this.current=null,this.transitionTime=700,this.hide=function(e){(0,r.addClass)(t.current,"opacity0"),setTimeout((function(){(0,r.addClass)(t.current,"hide"),(0,r.removeClass)(t.current,"opacity0"),e&&e()}),t.transitionTime)},this.show=function(e,n){var o=t.panels[e],a=t.transitionTime;t.current=o,(0,r.addClass)(o,"opacity0"),(0,r.removeClass)(o,"hide"),(0,i.default)()>function(e){setTimeout(e,50)}>function(e){(0,r.addClass)(o,"opacity1"),setTimeout(e,a)}>function(){(0,r.removeClass)(o,"opacity1","opacity0"),n&&n()}||i.default.go()},this.change=function(e,n){(0,i.default)()>t.hide>t.show.args(e)>n||i.default.go()};var n=Array.from((0,r.$$)(".panel"));n.forEach((function(e){e.style.transition="opacity "+t.transitionTime+"ms",t.panels[e.id]=e})),this.current=n.find((function(e){return!(0,r.hasClass)(e.className,"hide")})),(0,r.addEventAgent)(o.default.domRoot,"btn","click",(function(){return o.default.Music.play("click")}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3);var i=n(42),a=i.keys().map((function(e){return i(e)})),s=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.listMap={},this.currentBgm=null,a.forEach((function(e){return t.listMap[(0,o.getFileName)(e)]="/"+e}))}return r(e,[{key:"loadMusic",value:function(e){var t=this.listMap,n=[],r=function(e){n.push(new Promise((function(n,r){var i=(0,o.createDom)("audio");i.oncanplay=function(){t[e]=i,n()},i.onerror=r,i.src=t[e]})))};for(var i in t)r(i);Promise.all(n).then((function(){return e&&e(!0)})).catch((function(){return e&&e(!1)}))}},{key:"play",value:function(e){var t=this.listMap[e];t.currentTime=0,t.loop=!1,t.play()}},{key:"playBgm",value:function(e){this.currentBgm&&this.currentBgm.pause();var t=this.listMap[e];this.currentBgm=t,t.currentTime=0,t.loop=!0,t.play()}}]),e}();t.default=s},function(e,t,n){var r={"./bgm_bat.ogg":43,"./bgm_main.ogg":44,"./bgm_shop.ogg":45,"./click.ogg":46,"./del1.ogg":47,"./del2.ogg":48,"./fire1.ogg":49};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=42},function(e,t,n){e.exports=n.p+"static/media/bgm_bat.5a7abf40.ogg"},function(e,t,n){e.exports=n.p+"static/media/bgm_main.3d7613b4.ogg"},function(e,t,n){e.exports=n.p+"static/media/bgm_shop.69b898f0.ogg"},function(e,t,n){e.exports=n.p+"static/media/click.6440038a.ogg"},function(e,t,n){e.exports=n.p+"static/media/del1.09f82811.ogg"},function(e,t,n){e.exports=n.p+"static/media/del2.5e194a4d.ogg"},function(e,t,n){e.exports=n.p+"static/media/fire1.68a1701a.ogg"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LaunchBullet=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=a(n(9)),i=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.step=0,r.cd=14,r.bulletClass=n,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"action",value:function(e){var t=e.pointer,n=i.default.user.rect,r=new this.bulletClass(n.centerX,n.centerY);r.init().birth(!1,(function(){r.setAngle(t.angle||0),i.default.userGroup.push(r)}))}}]),t}(o.default);t.LaunchBullet=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(3),a=n(0),s=(r=a)&&r.__esModule?r:{default:r};var u=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dom=null,this.block=null,this.angle=0,this.targetX=0,this.targetY=0,this.className="",this.block=t,this.className=n}return o(e,[{key:"init",value:function(){var t=this.block.rect;this.dom=(0,i.createDom)("div",e.baseClass+" "+this.className),this.dom.style.cssText="left: "+t.centerX+"px; top: "+t.centerY+"px;"}},{key:"birth",value:function(){s.default.domRoot.appendChild(this.dom)}},{key:"destroy",value:function(){s.default.domRoot.removeChild(this.dom)}},{key:"setTarget",value:function(e,t){}},{key:"update",value:function(){var e=this.block.rect;this.dom.style.cssText="left: "+e.centerX+"px; top: "+e.centerY+"px; transform: translateY(-50%) rotate("+this.angle+"deg)"}}]),e}();u.baseClass="pointer",t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=(i(n(7)),i(n(0)));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.disabled=[],this.disableMouse=!1,this.keyEvt={},this.OL=0,this.OT=0,this.count=0,this.x=0,this.y=0,this.deg={v00:0,v10:0,"v1-1":45,"v0-1":90,"v-1-1":135,"v-10":180,v11:-45,v01:-90,"v-11":-135},this.dirReset=function(){t.count=t.x=t.y=0,t.dirTrigger(t.count,void 0)},this.dirKeyDown=function(e){1==e?(0==t.y&&t.count++,t.y=1):2==e?(0==t.x&&t.count++,t.x=1):3==e?(0==t.y&&t.count++,t.y=-1):(0==t.x&&t.count++,t.x=-1),t.dirTrigger(t.count,t.deg["v"+t.x+t.y])},this.dirKeyUp=function(e){1==e&&1==t.y||3==e&&-1==t.y?(t.y=0,t.count--):(2==e&&1==t.x||4==e&&-1==t.x)&&(t.x=0,t.count--),t.dirTrigger(t.count,t.deg["v"+t.x+t.y])},this.dirTrigger=function(e,n){var r=t.keyEvt.dirChange;r&&r.forEach((function(t){return t(e,n)}))},window.onresize=function(){var e=o.default.domRoot.getBoundingClientRect(),n=e.left,r=e.top;t.OL=n+5,t.OT=r+5},window.onresize(),document.onkeydown=this._down_interface.bind(this),document.onkeyup=this._up_interface.bind(this),document.onmousemove=this._mouse_interface.bind(this),this.onKeyDown(87,(function(){return t.dirKeyDown(1)})),this.onKeyDown(65,(function(){return t.dirKeyDown(4)})),this.onKeyDown(68,(function(){return t.dirKeyDown(2)})),this.onKeyDown(83,(function(){return t.dirKeyDown(3)})),this.onKeyUp(87,(function(){return t.dirKeyUp(1)})),this.onKeyUp(65,(function(){return t.dirKeyUp(4)})),this.onKeyUp(68,(function(){return t.dirKeyUp(2)})),this.onKeyUp(83,(function(){return t.dirKeyUp(3)}))}return r(e,[{key:"_down_interface",value:function(e){var t=e.keyCode;if(!this.disabled.find((function(e){return e==t}))){t="k"+t;var n=this.keyEvt[t];n&&n.forEach((function(e){return e()}))}}},{key:"_up_interface",value:function(e){var t=e.keyCode;if(!this.disabled.find((function(e){return e==t}))){t="c"+t;var n=this.keyEvt[t];n&&n.forEach((function(e){return e()}))}}},{key:"_mouse_interface",value:function(e){var t=this;if(!this.disableMouse){this.mouseX=e.pageX-this.OL,this.mouseY=e.pageY-this.OT;var n=this.keyEvt.mouseMove;n&&n.forEach((function(e){return e(t.mouseX,t.mouseY)}))}}},{key:"disableDirectionKey",value:function(){this.disabled=this.disabled.concat(["87","65","68","83"]),this.dirReset()}},{key:"enableDirectionKey",value:function(){this.disabled=this.disabled.filter((function(e){return 87!=e&&65!=e&&68!=e&&83!=e})),this.dirReset()}},{key:"onDirChange",value:function(e){var t="dirChange";this.keyEvt[t]?this.keyEvt[t].push(e):this.keyEvt[t]=[e]}},{key:"onKeyDown",value:function(e,t){e="k"+e,this.keyEvt[e]?this.keyEvt[e].push(t):this.keyEvt[e]=[t]}},{key:"onKeyUp",value:function(e,t){e="c"+e,this.keyEvt[e]?this.keyEvt[e].push(t):this.keyEvt[e]=[t]}},{key:"onMouseMove",value:function(e){var t="mouseMove";this.keyEvt[t]?this.keyEvt[t].push(e):this.keyEvt[t]=[e]}}]),e}();t.default=a},function(e,t,n){var r={"./BaseBullet.js":17,"./Blue.js":54,"./Factory.js":18,"./Green.js":16,"./Orange.js":56,"./Red.js":57,"./SmallBlue.js":19,"./Yellow.js":58};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=53},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(1),i=(r=o)&&r.__esModule?r:{default:r},a=n(5),s=n(10),u=n(4),c=n(12),f=n(55);var l=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,10,10));return r.className="background-blue",r.preAni=new a.MarkBlue,r.birthAni=new c.SpreadBlue,r.deathAni=new u.BoomBlue,r.hp=20,r.atk=10,r.skill=[f.TimeShooting],r.decorators=[s.BoundsRebound],r.speed=1,r.setAngle(60),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(i.default);l.FactoryName="Blue",t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TimeShooting=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n(9)),i=n(13),a=u(n(0)),s=u(n(19));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:45,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;c(this,t);var o=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.step=0,o.cd=10,o.count=0,o.sumCount=0,o.range=n,o.line=r,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"action",value:function(e){for(var t=e.rect,n=a.default.user.rect,r=this.range,o=this.line,u=(0,i.pointDeg)(t.centerX,t.centerY,n.centerX,n.centerY)-r/2,c=r/o,f=function(e){var n=new s.default(t.centerX,t.centerY);n.setAngle(u+c*e),n.init().birth(!1,(function(){a.default.enemyGroup.push(n)}))},l=0;l<o;l++)f(l);if(this.count++,this.sumCount++,this.sumCount%3==0&&(this.range=Math.min(90,r+15),this.line=Math.min(6,o+1)),this.count>=3)return this.cd=120,this.count=0;120==this.cd&&(this.cd=10,this.count=1)}}]),t}(o.default);t.TimeShooting=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(1),i=(r=o)&&r.__esModule?r:{default:r},a=n(5),s=n(4),u=n(14),c=n(20),f=n(15);var l=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,8,8));return r.className="background-orange",r.preAni=new a.ShrinkOrange,r.deathAni=new s.BoomOrange,r.hp=10,r.atk=10,r.skill=[[u.SkillShadow,f.ShadowOrange,9],[c.TrackingUser,50,49]],r.decorators=[],r.speed=3.5,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(i.default);l.FactoryName="Orange",t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(1),i=(r=o)&&r.__esModule?r:{default:r},a=n(5),s=n(12),u=n(4),c=n(14),f=n(20),l=n(15);var p=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,10,10));return r.className="background-red",r.preAni=new a.ShrinkRed,r.birthAni=new s.SpreadRed,r.deathAni=new u.BoomRed,r.hp=20,r.atk=10,r.skill=[[c.SkillShadow,l.ShadowRed],f.TrackingUser],r.decorators=[],r.speed=1.5,r.angle=0,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(i.default);p.FactoryName="Red",t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=f(n(1)),i=n(4),a=n(14),s=n(15),u=n(5),c=f(n(21));function f(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;l(this,t);var o=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,12,12));return o.className="background-yellow",o.deathAni=new i.BoomYellow,o.hp=20,o.atk=10,o.skill=[[a.SkillShadow,s.ShadowYellow,15]],o.decorators=[],o.speed=2,o.setAngle(r),o}return d(t,e),t}(o.default),m=function(e){function t(e,n){l(this,t);var r=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));r.x=e,r.y=n,r.arr=[];for(var o=0;o<8;o++)r.arr.push(new h(e,n,45*o));return r}return d(t,e),r(t,[{key:"done",value:function(e){var t=this;(new u.ShrinkYellow).show(this.x,this.y,(function(){e(t.arr)}))}}]),t}(c.default);m.FactoryName="Yellow",t.default=m},function(e,t,n){var r={"./index.js":22,"./k1.js":60,"./utils.js":23};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=59},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(23);function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}t.default=[].concat(o((0,r.VolumeProduction)({enemy:"Red",createTime:30},6,{createTime:100})),o((0,r.VolumeProduction)({enemy:"Red",createTime:810,x:200,y:100},7,{createTime:10,y:62})),o((0,r.VolumeProduction)({enemy:"Red",createTime:920,x:800,y:100},7,{createTime:10,y:62})),[{enemy:"Orange",createTime:1500},{enemy:"Orange",createTime:1550},{enemy:"Orange",createTime:1650},{enemy:"Red",createTime:1720}],o((0,r.VolumeProduction)({enemy:"Orange",createTime:1800},3,{createTime:40})),[{enemy:"Yellow",createTime:1950},{enemy:"Yellow",createTime:2e3}],o((0,r.VolumeProduction)({enemy:"Red",createTime:2100},10,{createTime:110})),o((0,r.VolumeProduction)({enemy:"Orange",createTime:2300},5,{createTime:180})),[{enemy:"Yellow",createTime:2330}],o((0,r.VolumeProduction)({enemy:"Yellow",createTime:2400,x:"user"},4,{createTime:180})),[{enemy:"Blue",createTime:3500},{enemy:"Blue",createTime:3700}],o((0,r.VolumeProduction)({enemy:"Yellow",createTime:4e3,x:"user"},8,{createTime:300})),o((0,r.VolumeProduction)({enemy:"Red",createTime:4e3},10,{createTime:320})),[{enemy:"Blue",createTime:5e3},{enemy:"Blue",createTime:5e3},{enemy:"Blue",createTime:5e3}],o((0,r.VolumeProduction)({enemy:"Yellow",createTime:5300,x:"user"},8,{createTime:80})),o((0,r.VolumeProduction)({enemy:"Red",createTime:6e3},10,{createTime:50})),o((0,r.VolumeProduction)({enemy:"Orange",createTime:6e3},5,{createTime:400})),[{enemy:"Blue",createTime:6400}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(7),a=(r=i)&&r.__esModule?r:{default:r};var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.objects=[],this.nodes=[],this.bounds=t}return o(e,[{key:"getIndex",value:function(e){var t=this.bounds,n=e.y+e.height<=t.centerY,r=e.y>=t.centerY,o=e.x+e.width<=t.centerX,i=e.x>=t.centerX;if(n){if(i)return 0;if(o)return 1}else if(r){if(o)return 2;if(i)return 3}return-1}},{key:"split",value:function(){var t=this.bounds,n=t.x,r=t.y,o=t.width/2,i=t.height/2;this.nodes.push(new e(new a.default(t.centerX,r,o,i)),new e(new a.default(n,r,o,i)),new e(new a.default(n,t.centerY,o,i)),new e(new a.default(t.centerX,t.centerY,o,i)))}},{key:"insert",value:function(t){var n=this.objects,r=void 0,o=void 0;if(this.nodes.length&&-1!==(o=this.getIndex(t)))this.nodes[o].insert(t);else if(n.push(t),!this.nodes.length&&this.objects.length>e.MAX_OBJECTS)for(this.split(),r=n.length-1;r>=0;r--)-1!==(o=this.getIndex(n[r]))&&this.nodes[o].insert(n.splice(r,1)[0])}},{key:"retrieve",value:function(e){var t=[],n=void 0,r=void 0,o=void 0;if(this.nodes.length)if(-1!==(o=this.getIndex(e)))t=t.concat(this.nodes[o].retrieve(e));else for(r=(n=e.carve(this.bounds.centerX,this.bounds.centerY)).length-1;r>=0;r--)o=this.getIndex(n[r]),t=t.concat(this.nodes[o].retrieve(e));return t=t.concat(this.objects)}},{key:"remove",value:function(e){var t=this.objects,n=this.nodes,r=t.findIndex((function(t){return t===e}));if(-1!==r)return t.splice(r,1),!0;if(n.length)for(var o=0;o<n.length;o++){if(n[o].remove(e))return!0}return!1}},{key:"refresh",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,n=this.objects,r=void 0,o=void 0,i=void 0,a=void 0;for(i=n.length-1;i>=0;i--)r=n[i],o=this.getIndex(r),e.isInner(r,this.bounds)?this.nodes.length&&-1!==o&&this.nodes[o].insert(n.splice(i,1)[0]):this!==t&&t.insert(n.splice(i,1)[0]);for(i=0,a=this.nodes.length;i<a;i++)this.nodes[i].refresh(t)}}]),e}();s.MAX_OBJECTS=7,s.isInner=function(e,t){return e.x>=t.x&&e.x+e.width<=t.x+t.width&&e.y>=t.y&&e.y+e.height<=t.y+t.height},t.default=s}]);
//# sourceMappingURL=index.js.map